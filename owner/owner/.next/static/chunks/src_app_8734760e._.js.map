{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/psbharathkumarachari/save_serve_complete/owner/owner/src/app/components/FoodMenu.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState, useEffect } from \"react\"\nimport { Modal, Form, Input, message } from \"antd\"\nimport { Edit3, Coffee, Sun, Moon } from \"lucide-react\"\n\ninterface Meal {\n  breakfast: string[]\n  lunch: string[]\n  dinner: string[]\n}\n\ninterface WeeklyMenu {\n  [key: string]: Meal\n}\n\nconst defaultMenu: WeeklyMenu = {\n  Monday: { breakfast: [], lunch: [], dinner: [] },\n  Tuesday: { breakfast: [], lunch: [], dinner: [] },\n  Wednesday: { breakfast: [], lunch: [], dinner: [] },\n  Thursday: { breakfast: [], lunch: [], dinner: [] },\n  Friday: { breakfast: [], lunch: [], dinner: [] },\n  Saturday: { breakfast: [], lunch: [], dinner: [] },\n  Sunday: { breakfast: [], lunch: [], dinner: [] }\n}\n\nexport function FoodMenu() {\n  const [menu, setMenu] = useState<WeeklyMenu>(defaultMenu)\n  const [isEditModalVisible, setIsEditModalVisible] = useState(false)\n  const [selectedDay, setSelectedDay] = useState<string>(\"\")\n  const [selectedMeal, setSelectedMeal] = useState<keyof Meal>(\"breakfast\")\n  const [loading, setLoading] = useState(true)\n  const [form] = Form.useForm()\n\n  const fetchMenu = async () => {\n    try {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        message.error('Please login first')\n        return\n      }\n\n      const response = await fetch('http://localhost:5001/api/menu', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch menu')\n      }\n\n      const data = await response.json()\n      \n      // Validate and sanitize the received data\n      const validatedMenu: WeeklyMenu = { ...defaultMenu }\n      Object.keys(defaultMenu).forEach(day => {\n        if (data[day]) {\n          validatedMenu[day] = {\n            breakfast: Array.isArray(data[day].breakfast) ? data[day].breakfast : [],\n            lunch: Array.isArray(data[day].lunch) ? data[day].lunch : [],\n            dinner: Array.isArray(data[day].dinner) ? data[day].dinner : []\n          }\n        }\n      })\n      \n      setMenu(validatedMenu)\n    } catch (error) {\n      message.error('Failed to fetch menu')\n      console.error('Error:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchMenu()\n  }, [])\n\n  const handleEdit = (day: string, meal: keyof Meal) => {\n    setSelectedDay(day)\n    setSelectedMeal(meal)\n    const items = menu[day]?.[meal] || []\n    form.setFieldsValue({\n      items: items.join(\", \")\n    })\n    setIsEditModalVisible(true)\n  }\n\n  const handleSave = async (values: { items: string }) => {\n    try {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        message.error('Please login first')\n        return\n      }\n\n      const items = values.items.split(\",\").map(item => item.trim()).filter(item => item)\n      \n      const response = await fetch(`http://localhost:5001/api/menu/${selectedDay}/${selectedMeal}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ items })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to update menu')\n      }\n\n      const updatedMenu = await response.json()\n      \n      // Validate and sanitize the received data\n      const validatedMenu: WeeklyMenu = { ...defaultMenu }\n      Object.keys(defaultMenu).forEach(day => {\n        if (updatedMenu[day]) {\n          validatedMenu[day] = {\n            breakfast: Array.isArray(updatedMenu[day].breakfast) ? updatedMenu[day].breakfast : [],\n            lunch: Array.isArray(updatedMenu[day].lunch) ? updatedMenu[day].lunch : [],\n            dinner: Array.isArray(updatedMenu[day].dinner) ? updatedMenu[day].dinner : []\n          }\n        }\n      })\n      \n      setMenu(validatedMenu)\n      message.success(\"Menu updated successfully\")\n      setIsEditModalVisible(false)\n    } catch (error) {\n      message.error(\"Failed to update menu\")\n      console.error('Error:', error)\n    }\n  }\n\n  const getMealIcon = (meal: keyof Meal) => {\n    switch (meal) {\n      case \"breakfast\":\n        return <Coffee className=\"w-5 h-5\" />\n      case \"lunch\":\n        return <Sun className=\"w-5 h-5\" />\n      case \"dinner\":\n        return <Moon className=\"w-5 h-5\" />\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-[400px]\">\n        <div className=\"text-gray-400\">Loading menu...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-white\">Weekly Food Menu</h2>\n      </div>\n\n      <div className=\"grid gap-6\">\n        {Object.entries(menu).map(([day, meals]) => (\n          <div key={day} className=\"bg-[#1a1b1e] border border-gray-800 rounded-2xl p-6 shadow-xl\">\n            <h3 className=\"text-xl font-semibold text-white mb-4\">{day}</h3>\n            \n            <div className=\"grid gap-4\">\n              {(Object.keys(meals) as Array<keyof Meal>).map((mealType) => (\n                <div\n                  key={mealType}\n                  className=\"p-4 bg-white/5 rounded-xl hover:bg-white/[0.07] transition-colors group\"\n                >\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center gap-2 text-gray-400\">\n                      {getMealIcon(mealType)}\n                      <span className=\"font-medium capitalize\">{mealType}</span>\n                    </div>\n                    <button\n                      onClick={() => handleEdit(day, mealType)}\n                      className=\"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg opacity-0 group-hover:opacity-100 transition-all\"\n                    >\n                      <Edit3 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                  \n                  <div className=\"pl-7\">\n                    {(meals[mealType] || []).map((item, index) => (\n                      <span\n                        key={index}\n                        className=\"inline-block bg-white/[0.06] text-gray-300 rounded-full px-3 py-1 text-sm mr-2 mb-2\"\n                      >\n                        {item}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <Modal\n        title={\n          <div className=\"flex items-center gap-2 text-lg\">\n            <span>Edit {selectedMeal} for {selectedDay}</span>\n          </div>\n        }\n        open={isEditModalVisible}\n        onCancel={() => {\n          setIsEditModalVisible(false)\n          form.resetFields()\n        }}\n        footer={null}\n        className=\"modern-modal\"\n      >\n        <Form form={form} onFinish={handleSave} layout=\"vertical\">\n          <Form.Item\n            name=\"items\"\n            label=\"Menu Items (comma-separated)\"\n            rules={[{ required: true, message: \"Please input menu items\" }]}\n          >\n            <Input.TextArea\n              rows={4}\n              placeholder=\"Enter menu items separated by commas\"\n              className=\"modern-input\"\n            />\n          </Form.Item>\n          <Form.Item>\n            <button\n              type=\"submit\"\n              className=\"w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n            >\n              Save Changes\n            </button>\n          </Form.Item>\n        </Form>\n      </Modal>\n\n      <style jsx global>{`\n        .modern-modal .ant-modal-content {\n          background: #1a1b1e;\n          border: 1px solid #2d2d2d;\n          border-radius: 1rem;\n          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n          padding: 1.5rem;\n        }\n        .modern-modal .ant-modal-header {\n          background: transparent;\n          border: none;\n          padding: 0;\n          margin-bottom: 1.5rem;\n        }\n        .modern-modal .ant-modal-title {\n          color: white;\n        }\n        .modern-modal .ant-modal-close {\n          color: #6b7280;\n        }\n        .modern-modal .ant-modal-close:hover {\n          color: white;\n        }\n        .modern-modal .ant-form-item-label > label {\n          color: #9ca3af;\n        }\n        .modern-input {\n          background: rgba(255, 255, 255, 0.05) !important;\n          border: 1px solid #2d2d2d !important;\n          border-radius: 0.5rem !important;\n          color: white !important;\n        }\n        .modern-input:focus {\n          border-color: #3b82f6 !important;\n          box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1) !important;\n        }\n      `}</style>\n    </div>\n  )\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/psbharathkumarachari/save_serve_complete/owner/owner/src/app/menu/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { FoodMenu } from \"../components/FoodMenu\"\n\nexport default function MenuPage() {\n  return (\n    <main>\n      <div className=\"pt-24 px-4\">\n        <FoodMenu />\n      </div>\n    </main>\n  )\n} "],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC;kBACC,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,wIAAA,CAAA,WAAQ;;;;;;;;;;;;;;;AAIjB;KARwB","debugId":null}}]
}